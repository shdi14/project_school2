namespace SpriteKind {
    export const projectile_enemy = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile1`, function (sprite, location) {
    if (room == 1) {
        room = 2
        tiles.setCurrentTilemap(tilemap`уровень2`)
        mySprite.x = 400
        mySprite2 = sprites.create(assets.image`dawdaw`, SpriteKind.Enemy)
        mySprite2.setPosition(25, 91)
        enemy_cubird = 1
        povorot_cubird = 1
    }
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Projectile, function (sprite, otherSprite) {
    sprites.destroy(mySprite2, effects.fire, 500)
    sprites.destroy(mySprite3, effects.fire, 500)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . d . . d . 
        . . . . . . . . . . . f d d f . 
        . . . . . . . . . . . d d d d . 
        . 7 7 8 8 8 8 8 8 8 7 f d d f . 
        7 7 7 7 7 7 7 7 7 7 7 d f f d . 
        . 7 7 7 7 7 7 7 7 7 7 d d d d . 
        . 7 7 7 7 7 7 7 7 7 7 . . . . . 
        . 7 7 7 7 7 7 7 7 7 7 . . . . . 
        . . f . f . . . f . f . . . . . 
        . . f . f . . . f . f . . . . . 
        . . f . f . . . f . f . . . . . 
        . . f . f . . . f . f . . . . . 
        `],
    500,
    false
    )
    povorot = 1
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`debag_block`, function (sprite, location) {
    mySprite.y = SpriteKind.Player + 1
})
scene.onOverlapTile(SpriteKind.Projectile, assets.tile`куб`, function (sprite, location) {
    sprites.destroy(projectile, effects.fountain, 0)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    mySprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . d . . d . . . . . . . . . . . 
        . f d d f . . . . . . . . . . . 
        . d d d d . . . . . . . . . . . 
        . f d d f 7 8 8 8 8 8 8 8 7 7 . 
        . d f f d 7 7 7 7 7 7 7 7 7 7 7 
        . d d d d 7 7 7 7 7 7 7 7 7 7 . 
        . . . . . 7 7 7 7 7 7 7 7 7 7 . 
        . . . . . 7 7 7 7 7 7 7 7 7 7 . 
        . . . . . f . f . . . f . f . . 
        . . . . . f . f . . . f . f . . 
        . . . . . f . f . . . f . f . . 
        . . . . . f . f . . . f . f . . 
        `],
    500,
    false
    )
    povorot = 0
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (povorot == 1) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . d . . . . . . . . 
            . . . . . . d . . . . . . . . . 
            . . . . . . d . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f f f f f f f f f . . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . . f f f f f f f f f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 30, 30)
    } else {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . d . . . . . . . . 
            . . . . . . d . . . . . . . . . 
            . . . . . . d . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f f f f f f f f f . . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . f f f f f f f f f f f . . . 
            . . . f f f f f f f f f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, -30, 30)
    }
    tnt = 1
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`переход`, function (sprite, location) {
    if (room == 1) {
        room = 3
        tiles.setCurrentTilemap(tilemap`уровень0`)
        mySprite2 = sprites.create(assets.image`dawdaw`, SpriteKind.Enemy)
        tiles.placeOnRandomTile(mySprite, assets.tile`transparency16`)
        if (mySprite2.tileKindAt(TileDirection.Bottom, assets.tile`куб`)) {
            enemy_cubird = 1
        } else {
            while (mySprite2.tileKindAt(TileDirection.Bottom, assets.tile`куб`) == false) {
                tiles.placeOnRandomTile(mySprite2, assets.tile`transparency16`)
            }
            enemy_cubird = 1
        }
        mini_arena = 1
    }
    if (room == 2) {
        tiles.setCurrentTilemap(tilemap`1 комната`)
        mySprite.x = 32
        room = 1
        sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    }
})
sprites.onDestroyed(SpriteKind.Enemy, function (sprite) {
    if (room == 3) {
        if (mini_arena == 1) {
            mySprite2 = sprites.create(assets.image`dawdaw`, SpriteKind.Enemy)
            tiles.placeOnRandomTile(mySprite2, assets.tile`transparency16`)
            if (mySprite2.tileKindAt(TileDirection.Bottom, assets.tile`куб`)) {
                enemy_cubird = 1
            } else {
                while (mySprite2.tileKindAt(TileDirection.Bottom, assets.tile`куб`) == false) {
                    tiles.placeOnRandomTile(mySprite2, assets.tile`transparency16`)
                }
                enemy_cubird = 1
            }
            mySprite3 = sprites.create(assets.image`dawdaw`, SpriteKind.Enemy)
            tiles.placeOnRandomTile(mySprite3, assets.tile`transparency16`)
            if (mySprite3.tileKindAt(TileDirection.Bottom, assets.tile`куб`)) {
                povorot_cubird_2 = 1
            } else {
                while (mySprite3.tileKindAt(TileDirection.Bottom, assets.tile`куб`) == false) {
                    tiles.placeOnRandomTile(mySprite3, assets.tile`transparency16`)
                }
                povorot_cubird_2 = 1
            }
            enemy_cubird_2 = 1
            mini_arena = 2
        }
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (acceleration_fly == 1) {
        controller.moveSprite(mySprite, 90, engine_power * 2)
        if (povorot == 1) {
            animation.runImageAnimation(
            mySprite,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . . . . . . . . . d d d d . 
                . 7 7 8 8 8 8 8 8 8 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                2 7 7 7 7 7 7 7 7 7 7 . . . . . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                5 4 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . 8 8 8 8 8 8 8 . d d d d . 
                . 7 7 7 8 8 8 8 8 7 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                2 7 7 7 7 7 7 7 7 7 7 . . . . . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                4 5 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . 8 8 8 8 8 8 8 . d d d d . 
                . 7 7 7 7 8 8 8 7 7 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                2 7 7 7 7 7 7 7 7 7 7 . . . . . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                5 2 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . 8 8 8 8 8 8 8 . d d d d . 
                . 7 7 7 7 8 8 8 7 7 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                5 7 7 7 7 7 7 7 7 7 7 . . . . . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                5 . f . f . . . f . f . . . . . 
                . 4 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . . 8 8 8 8 8 . . d d d d . 
                . 7 7 . . 8 8 8 . . 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                5 7 7 7 7 7 7 7 7 7 7 . . . . . 
                5 5 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . . . 8 8 8 . . . d d d d . 
                . 7 7 7 7 8 8 8 7 7 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                . 7 7 7 7 7 7 7 7 7 7 . . . . . 
                . 7 7 7 7 7 7 7 7 7 7 . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . . 8 8 8 8 8 . . d d d d . 
                . 7 7 7 7 8 8 8 7 7 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                2 7 7 7 7 7 7 7 7 7 7 d d d d . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                2 7 7 7 7 7 7 7 7 7 7 . . . . . 
                4 5 f . f . . . f . f . . . . . 
                . 2 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . 8 8 8 8 8 8 8 . d d d d . 
                . 7 7 7 7 8 8 8 7 7 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                5 7 7 7 7 7 7 7 7 7 7 d d d d . 
                4 7 7 7 7 7 7 7 7 7 7 . . . . . 
                2 7 7 7 7 7 7 7 7 7 7 . . . . . 
                5 2 f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `],
            100,
            true
            )
        } else {
            animation.runImageAnimation(
            mySprite,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . . . . . . . . . . . 
                . f d d f 7 8 8 8 8 8 8 8 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 2 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . f . f . . . f . f 4 5 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . 8 8 8 8 8 8 8 . . . 
                . f d d f 7 7 8 8 8 8 8 7 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 2 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . f . f . . . f . f 5 4 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . 8 8 8 8 8 8 8 . . . 
                . f d d f 7 7 7 8 8 8 7 7 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 2 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . f . f . . . f . f 2 5 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . 8 8 8 8 8 8 8 . . . 
                . f d d f 7 7 7 8 8 8 7 7 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 5 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . f . f . . . f . f . 5 
                . . . . . f . f . . . f . f 4 . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . . 8 8 8 8 8 . . . . 
                . f d d f 7 . . 8 8 8 . . 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . 7 7 7 7 7 7 7 7 7 7 5 
                . . . . . f . f . . . f . f 5 5 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . . . 8 8 8 . . . . . 
                . f d d f 7 7 7 8 8 8 7 7 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . . 8 8 8 8 8 . . . . 
                . f d d f 7 7 7 8 8 8 7 7 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 2 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . 7 7 7 7 7 7 7 7 7 7 2 
                . . . . . f . f . . . f . f 5 4 
                . . . . . f . f . . . f . f 2 . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . 8 8 8 8 8 8 8 . . . 
                . f d d f 7 7 7 8 8 8 7 7 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 5 
                . . . . . 7 7 7 7 7 7 7 7 7 7 4 
                . . . . . 7 7 7 7 7 7 7 7 7 7 2 
                . . . . . f . f . . . f . f 2 5 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `],
            100,
            true
            )
        }
    } else {
        if (povorot == 0) {
            animation.runImageAnimation(
            mySprite,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . . . . . . . . . . . 
                . f d d f 7 8 8 8 8 8 8 8 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `],
            500,
            false
            )
        } else {
            animation.runImageAnimation(
            mySprite,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . . . . . . . . . d d d d . 
                . 7 7 8 8 8 8 8 8 8 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                . 7 7 7 7 7 7 7 7 7 7 . . . . . 
                . 7 7 7 7 7 7 7 7 7 7 . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `],
            500,
            false
            )
            controller.moveSprite(mySprite, 70, 3)
        }
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`шип`, function (sprite, location) {
    info.changeLifeBy(-1)
    mySprite.y += -12
})
let povorot_cubird_2 = 0
let projectile: Sprite = null
let mySprite3: Sprite = null
let povorot_cubird = 0
let mySprite2: Sprite = null
let engine_power = 0
let acceleration_fly = 0
let mySprite: Sprite = null
let povorot = 0
let room = 0
let enemy_cubird = 0
let tnt = 0
let mini_arena = 0
let enemy_cubird_2 = 0
story.showPlayerChoices("упасть", "сдохнуть", "стать пупсом")
if (story.checkLastAnswer("сдохнуть") == true) {
    game.gameOver(false)
}
if (story.checkLastAnswer("стать пупсом") == true) {
    game.gameOver(true)
}
enemy_cubird_2 = 0
mini_arena = 0
tnt = 0
enemy_cubird = 0
info.setLife(10)
room = 1
povorot = 1
tiles.setCurrentTilemap(tilemap`1 комната`)
mySprite = sprites.create(assets.image`главный герой`, SpriteKind.Player)
mySprite.x = 64
mySprite.y = 64
controller.moveSprite(mySprite, 100, 100)
acceleration_fly = 0
scene.cameraFollowSprite(mySprite)
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999997777777777777777777777777777777779999777777777777777777777777777
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999997777777777777777777777777777777779999777777777777777777777777777
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999997777
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999997777
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999997777
    9999777777777779999999999999999999999999999999999999997777777777799977777777777999777777777779997777777777777799977777777777777777999777777777777777777779997777
    9999777777777779999999999999999999999999999999999999997777777777799977777777777999777777777779997777777777777799977777777777777777999777777777777777777779997777
    9999777777777779999997777777777777777777777777777779997777777777799977777777777999777777777779997777777777777799977777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777999977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777999977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799997777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999997777777777777999997777777777779997777777777799977777777777999777777777799977777777799999999999999999999999999999999999999999999999999999999
    9999999999999999999997777777777777999997777777777799999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999777799977777777777777777799977777777777777777779997777
    9999999999999999999999999999999999999999999999999999997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777799977777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999977777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999977777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777777999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777779999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777779999777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777779997777777777799977777777777777999777777777777777777799977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777779997777777777799977777777777777999777777777777777777999977777777777777777779997777
    9999777777777779999999977777777777999997777777777779997777777777799977777777779997777777777799977777777777777999777777777777777777999977777777777777777779997777
    9999777777777779999999999999999999999999999999999999997777777777799977777777779997777777777799977777777779999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999997777777777777779997777777777799999999999999999999999999999999999999999999999999999999977999777777777777777777999777777777777777777779997777
    9999999999999999999997777777777777779997777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999997777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999997777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999997777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999997777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777777999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779999777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799977777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777799997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779997777
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777779997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799977777777777799997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777779997777777777799997777777777799997777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779997777777777799977777777799997777777777799997777777777799977777777777777777777999777777777777777777779999999
    9999777777777779999997777777777777999977777777777779999777777777999977777777799997777777777779997777777777777777777777777777777779999777777777777777777779999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999997777777777799977777777777999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799999999999999999999999999999999999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999997777777777799977777777777997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999777777777779999997777777777799999977777777777999999999999999999999999999999997777777777799977777777777999999977777777777999999999999977777777777999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999977777777777999999977777777777999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
engine_power = 100
game.onUpdateInterval(1300, function () {
    if (controller.up.isPressed() == true) {
        acceleration_fly = 0
        if (povorot == 0) {
            animation.runImageAnimation(
            mySprite,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . d . . d . . . . . . . . . . . 
                . f d d f . . . . . . . . . . . 
                . d d d d . . . . . . . . . . . 
                . f d d f 7 8 8 8 8 8 8 8 7 7 . 
                . d f f d 7 7 7 7 7 7 7 7 7 7 7 
                . d d d d 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . 7 7 7 7 7 7 7 7 7 7 . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                . . . . . f . f . . . f . f . . 
                `],
            500,
            false
            )
            controller.moveSprite(mySprite, 70, 3)
        } else {
            animation.runImageAnimation(
            mySprite,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . d . . d . 
                . . . . . . . . . . . f d d f . 
                . . . . . . . . . . . d d d d . 
                . 7 7 8 8 8 8 8 8 8 7 f d d f . 
                7 7 7 7 7 7 7 7 7 7 7 d f f d . 
                . 7 7 7 7 7 7 7 7 7 7 d d d d . 
                . 7 7 7 7 7 7 7 7 7 7 . . . . . 
                . 7 7 7 7 7 7 7 7 7 7 . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                . . f . f . . . f . f . . . . . 
                `],
            500,
            false
            )
            controller.moveSprite(mySprite, 70, 3)
        }
    }
})
game.onUpdateInterval(2000, function () {
    if (controller.right.isPressed() == true) {
        acceleration_fly = 1
    } else {
        if (controller.left.isPressed() == true) {
            acceleration_fly = 1
        } else {
            acceleration_fly = 0
        }
    }
})
game.onUpdateInterval(1000, function () {
    if (enemy_cubird == 1) {
        if (mySprite.overlapsWith(mySprite2)) {
            info.changeLifeBy(-1)
            mySprite.y += -12
        }
    }
})
game.onUpdateInterval(100, function () {
    if (enemy_cubird == 1) {
        if (mySprite2.isHittingTile(CollisionDirection.Left) == true) {
            povorot_cubird = 1
            animation.runImageAnimation(
            mySprite2,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . f . f . f . f . f . . . . 
                . . f d f d f d f d f d f . . . 
                . . f f f f f f f f f f f . . . 
                . . f d d d d d d d d d f . . . 
                . . f d d d d d d 5 5 d f . . . 
                . . f d d d d d d 5 5 d f f . . 
                . . f d d d d d d d d d f d f . 
                . . f d d d d d d d d d f f . . 
                . . f d d d d d d d d d f . . . 
                . f f d d d d d d d d d f . . . 
                f d f d d d d d d d d d f . . . 
                . f f d d d d d d d d d f . . . 
                . f f f f f f f f f f f f . . . 
                . . . . . . . . . . . . . . . . 
                `],
            500,
            false
            )
        }
        if (mySprite2.isHittingTile(CollisionDirection.Right) == true) {
            povorot_cubird = 0
            animation.runImageAnimation(
            mySprite2,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . f . f . f . f . f . . . 
                . . . f d f d f d f d f d f . . 
                . . . f f f f f f f f f f f . . 
                . . . f d d d d d d d d d f . . 
                . . . f d 5 5 d d d d d d f . . 
                . . f f d 5 5 d d d d d d f . . 
                . f d f d d d d d d d d d f . . 
                . . f f d d d d d d d d d f . . 
                . . . f d d d d d d d d d f . . 
                . . . f d d d d d d d d d f f . 
                . . . f d d d d d d d d d f d f 
                . . . f d d d d d d d d d f f . 
                . . . f f f f f f f f f f f f . 
                . . . . . . . . . . . . . . . . 
                `],
            500,
            false
            )
        }
        if (povorot_cubird == 1) {
            mySprite2.x += 3
        } else {
            mySprite2.x += -3
        }
        mySprite2.y += 3
    }
    if (enemy_cubird_2 == 1) {
        if (mySprite3.isHittingTile(CollisionDirection.Left) == true) {
            povorot_cubird_2 = 1
            animation.runImageAnimation(
            mySprite3,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . f . f . f . f . f . . . . 
                . . f d f d f d f d f d f . . . 
                . . f f f f f f f f f f f . . . 
                . . f d d d d d d d d d f . . . 
                . . f d d d d d d 5 5 d f . . . 
                . . f d d d d d d 5 5 d f f . . 
                . . f d d d d d d d d d f d f . 
                . . f d d d d d d d d d f f . . 
                . . f d d d d d d d d d f . . . 
                . f f d d d d d d d d d f . . . 
                f d f d d d d d d d d d f . . . 
                . f f d d d d d d d d d f . . . 
                . f f f f f f f f f f f f . . . 
                . . . . . . . . . . . . . . . . 
                `],
            500,
            false
            )
        }
        if (mySprite3.isHittingTile(CollisionDirection.Right) == true) {
            povorot_cubird_2 = 0
            animation.runImageAnimation(
            mySprite3,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . f . f . f . f . f . . . 
                . . . f d f d f d f d f d f . . 
                . . . f f f f f f f f f f f . . 
                . . . f d d d d d d d d d f . . 
                . . . f d 5 5 d d d d d d f . . 
                . . f f d 5 5 d d d d d d f . . 
                . f d f d d d d d d d d d f . . 
                . . f f d d d d d d d d d f . . 
                . . . f d d d d d d d d d f . . 
                . . . f d d d d d d d d d f f . 
                . . . f d d d d d d d d d f d f 
                . . . f d d d d d d d d d f f . 
                . . . f f f f f f f f f f f f . 
                . . . . . . . . . . . . . . . . 
                `],
            500,
            false
            )
        }
        if (povorot_cubird_2 == 1) {
            mySprite3.x += 3
        } else {
            mySprite3.x += -3
        }
        mySprite3.y += 3
    }
    mySprite.y += 2
})
